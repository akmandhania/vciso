# VCISO Security IRP Assistant

**VCISO Security IRP Assistant** is an AI-powered tool designed to help organizations and individuals build, review, and test their security Incident Response Plans (IRP). Leveraging Large Language Models (LLMs), Retrieval-Augmented Generation (RAG), and a Gradio web interface, it streamlines the process of managing and improving your security response posture.

**Main Features:**
- **IRP Builder:** Guided creation of an Incident Response Plan.
- **Policy Review & Compliance:** Automated review and compliance checking of your security policies.
- **Interactive Incident Response Simulation:** Step-by-step guidance through incident response procedures, team member assignments, and post-incident analysisâ€”all powered by LLMs and RAG, with no direct file parsing.

## Getting Started

### 1. Clone the Repository

```sh
git clone <your-repo-url>
cd vciso
```

### 2. Set Up a Python Virtual Environment (Recommended)

```sh
python3 -m venv .venv
source .venv/bin/activate
```

### 3. Install Dependencies

```sh
pip install -r requirements.txt
```

### 4. Set Environment Variables

Create a `.env` file in the `vciso/` directory with your OpenAI API key and any other required keys:

```
OPENAI_API_KEY=sk-...
```

Or export it in your shell:

```sh
export OPENAI_API_KEY=sk-...
```

### 5. Run the App

You can run any part of the VCISO app using the `run.py` script:

```sh
python run.py --part part1  # For IRP builder
python run.py --part part2  # For policy review & compliance
python run.py --part part3  # For interactive incident response simulation
```

This will launch a Gradio web interface in your browser.

### 6. Usage

#### Part 1 & 2: IRP Builder and Policy Review
- Follow the on-screen instructions to interact with the assistant.
- Use commands like `overview`, `review`, `download`, and `progress` in the chat for additional features.

#### Part 3: Interactive Incident Response Simulation

**Getting Started:**
- Type `welcome` to see all available simulations and commands
- The system will show you the available incident types and how to interact

**Starting a Simulation:**
You can start simulations using natural language or simple commands:

**Natural Language (Recommended):**
- `"Start a phishing simulation"`
- `"Begin data breach response"`
- `"Launch ransomware incident"`
- `"Start a simulation"` (then choose from the options)

**Simple Commands:**
- `phishing` or `phish`
- `data_breach` or `breach`
- `ransomware` or `ransom`

**During Simulation:**
- `next` - Continue to the next step
- `team` - View incident response team roster
- `overview` - See the complete response plan
- `clarify` - Get detailed explanation of current step
- `summary` - Generate post-incident summary
- `analysis` - Get detailed session analysis
- `lessons` - Extract lessons learned

**Key Features:**
- **Policy-Based Responses:** All incident response plans are generated using ONLY your company's policy documents
- **Step-by-Step Guidance:** Each step includes detailed instructions and success criteria
- **Progress Tracking:** See total steps and current progress throughout the simulation
- **Team Information:** Access to incident response team roster and responsibilities
- **Post-Incident Analysis:** Comprehensive summaries, analysis, and lessons learned
- **Natural Language Support:** Type commands in plain English

## Architecture Notes (Part 3)

### **RAG-Only Architecture:**
- **No Direct File Parsing:** All content (plans, steps, team info, post-incident reviews, etc.) is generated by the LLM using only the chunks retrieved from your uploaded documents
- **Flexible Document Support:** Supports TXT, PDF, DOCX, and HTML files in the `IRCurrentDocuments` folder
- **Real-Time Updates:** The system always uses the latest content from your documents for every response
- **Policy-Restricted:** LLM is explicitly instructed to use ONLY company policy documents, not external best practices

### **Enhanced User Experience:**
- **Command Normalization:** Handles various input formats intelligently
- **Professional Logging:** Clean output with appropriate severity levels
- **Structured Output:** Robust LLM response parsing with Pydantic models
- **Error Handling:** Comprehensive exception handling and debugging capabilities

### **Technical Improvements:**
- **Natural Language Processing:** Strips common phrases and maps variations to standard commands
- **Structured Data:** Uses Pydantic models for reliable data parsing
- **Clean Logging:** Suppressed third-party library noise for better user experience
- **Bug Fixes:** Fixed incident type detection and command routing issues

## Sample Policy Documents

The `IRCurrentDocuments` directory contains sample policy documents (TXT, PDF, DOCX, HTML) for testing the RAG (Retrieval-Augmented Generation) system. You can add, remove, or modify these files as needed for your own organization or experiments. The system will always use the latest content for all guidance and analysis.

## Updating & Publishing
- Make sure to update this README if you add new features or dependencies.
- Ensure `plan_outline.txt` and other generated files are in `.gitignore`.

## Troubleshooting
- If you see errors about missing API keys, check your `.env` file or environment variables.
- For dependency issues, try re-creating your virtual environment and reinstalling requirements.
- If simulations aren't working, try typing `welcome` to see available options.

## License
MIT or your chosen license. 
